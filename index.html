<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>country</title>

    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <!-- google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Mukta:wght@200;300;400;500;600;700;800&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">

    <!-- style -->
    <style>
        * {
            font-family: "Roboto Condensed", sans-serif;
        }
    </style>

</head>




<body style=" background-image: url('https://c02.purpledshub.com/uploads/sites/41/2023/11/countries-in-the-world.jpg'); background-size: cover; background-repeat: no-repeat; height: 900px; ">
    <div class="container text-center  align-items-center my-5 mt-5 ">
      <h1 class="text-dark " style="font-size: 50px; ">Know about the country</h1>
      <div class="row">
        <div class="col-md-4"></div>
  
        <div class="col-md-4">
          <div class="form  align-items-center d-flex py-3 ">
            <input class="form-control"  class=" text-secondary" id="contry" type="text" placeholder="Enter country name">
          &nbsp;  <button class="btn btn-dark " type="button" onclick="search()">Search</button>
          </div>
 

          <div class="col-4 " ></div>
          <div id="result" style="margin-left: 50px;" class="mt-3">
              
          </div>
        </div>
    </div>


    
  
</body>

<script>
    // arrow function
    // eeth functionte edthano api call varunne aa functionte avde async
    search = async () => {
        // input boxil kodkuna datasine edknu 
        let countryName = contry.value
        console.log(countryName);

        // contry nameil value indeghil api call nadathnm
        if (countryName) {
            // aarano api call nadathunnath avde await
            const response = await fetch(`https://restcountries.com/v3.1/name/${countryName}?fullText=true`)
            // console.log(response);

            // unnecessary datasine kalayn json
            response.json().then((data) => {

                //0 positionil aan india vannirikunne so index value =0
                console.log(data[0]);

                //  common name
                let cname = data[0].name.common
                console.log(cname);

                // official
                let off = data[0].name.official
                console.log(off);

                // capital
                let cap = data[0].capital
                console.log(cap);

                // borders
                let bord = data[0].borders
                console.log(bord);

                // area
                let are = data[0].area
                console.log(are);

                // googleMaps
                let map = data[0].maps.googleMaps
                console.log(map);

                // population
                let pop = data[0].population
                console.log(pop);

                // timezones
                let time = data[0].timezones
                console.log(time);

                //continents
                let conti = data[0].continents
                console.log(conti);

                // flags->png
                let flag = data[0].flags.png
                console.log(flag);

                // languages
                // objectile ooro keys edkn in method
                // array creation for keyil store chythathine arrayilk aaknu
                national_language = []

                for (let lang in data[0].languages) {

                    // pushing languages
                    national_language.push(data[0].languages[lang])

                }
                console.log(national_language);

                //currency
                for (let currency in data[0].currencies) {
                    var currencyname = data[0].currencies[currency].name
                    var currencySymbol = data[0].currencies[currency].symbol
                }
                console.log(currencyname, currencySymbol);


                result.innerHTML=`
                    <div class="card " style="width: 18rem; margin: 13px;">
        <img src=${flag}
            class="card-img-top" alt="...">
       
        <ul class="list-group list-group-flush">
            <li class="list-group-item"><b>${off}</b></li>
            <li class="list-group-item">Common name : ${cname}</li>
            <li class="list-group-item">Capital : ${cap}</li>
            <li class="list-group-item">Borders : ${bord}</li>
            <li class="list-group-item">Population : ${pop}</li>
            <li class="list-group-item">Timezone : ${time}</li>
            <li class="list-group-item">Area : ${are}</li>
            <li class="list-group-item">Continents : ${conti}</li>
            <li class="list-group-item">Languages : ${national_language}</li>
            <li class="list-group-item">Currency : ${currencyname,currencySymbol}</li>
            <li class="list-group-item">Map : ${map}</li>
        </ul>
     
    </div>
   `
           

            })

        }
        else {
            alert('enter a valid input')
        }

    }

</script>

</html>